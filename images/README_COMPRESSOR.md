# 画像圧縮ツール 使い方

## 🚀 起動方法

### 1. 必要なライブラリをインストール

PowerShellまたはコマンドプロンプトで実行：

```powershell
pip install Pillow
```

### 2. ツールを起動

```powershell
python image_compressor.py
```

または、image_compressor.py をダブルクリック

---

## 📖 使用手順

### ステップ1: 元画像フォルダを選択
「参照...」ボタンをクリックして、圧縮したい画像が入っているフォルダを選択

### ステップ2: 保存先フォルダを選択
圧縮後の画像を保存するフォルダを選択  
※未選択の場合、元フォルダ内に "compressed" フォルダが自動作成されます

### ステップ3: 設定を調整
- **最大横幅:** 1920px（フルHD推奨）
- **画質:** 85（80-90が推奨）

### ステップ4: 圧縮開始
「圧縮開始」ボタンをクリック

---

## 📋 機能

- ✅ PNG/JPG/WEBP/BMP対応
- ✅ 自動リサイズ（アスペクト比維持）
- ✅ JPG形式に統一（軽量化）
- ✅ 透明背景を白背景に変換
- ✅ 処理ログをリアルタイム表示
- ✅ 削減率を表示

---

## 💡 推奨設定

| 用途 | 横幅 | 画質 | 期待サイズ |
|-----|------|------|----------|
| **ゲーム背景（推奨）** | 1920px | 85 | 300-600KB |
| **高画質版** | 1920px | 90 | 600-900KB |
| **軽量版** | 1600px | 80 | 200-400KB |

---

## 🎯 画像生成後の流れ

1. Midjourney等で画像を生成（PNG形式）
2. 生成した画像をフォルダにまとめる
3. このツールで一括圧縮
4. 圧縮後の画像を `web/images/` に配置
5. ストーリーファイルで使用:
   ```markdown
   <script>
   changeBg('images/rain_window.jpg');
   </script>
   ```

---

## ⚠️ 注意事項

- 元画像は上書きされません（安全）
- 同名ファイルは上書きされます
- ファイル名に日本語を使わないことを推奨
- 処理中はウィンドウを閉じないでください

---

## 🔧 トラブルシューティング

### エラー: Pillowが見つかりません
```powershell
pip install Pillow
```

### エラー: フォルダが選択できない
- 管理者権限で実行してみてください

### 画質が悪い
- 画質設定を90に上げてください
- 横幅を大きくしてください（2560px等）

---

## 📊 処理例

```
入力: rain_window.png (2048x1152, 3.5MB)
出力: rain_window.jpg (1920x1080, 450KB)
削減率: 87.1% 削減
```

15枚処理した場合の目安:
- 元サイズ: 30-50MB
- 圧縮後: 5-10MB
- 処理時間: 30秒-1分
